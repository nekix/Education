Хеш-алгоритмы и влияние на коллизии.


Хеш-таблица является динамической на базе расширяемого массива. Выбран минимальный (начальный) размер таблицы равный 8. Таблица при расширении увеличивает свой размер в два раза. Получается, что размер таблицы всегда является степенью двойки. Было применено двойное хеширование в том числе с динамическими параметрами первой хеш-функции.

В качестве первой хеш-функции применяются полиномиальная хеш-функция для строки (позволяет получить различный хеш для строк с одинаковыми символами, но разным порядком символов) и универсальная хеш-функция, комбинирующиеся с использованием XOR и модуля по размеру таблицы. H(x) = (H(1) ^ H(2)) mod s, где s – размер таблицы.

В качестве второй функции используется формула вида H1(x) = 1 + x mod (s / 2) * 2, где s – размер таблицы. Данная функция обеспечивает получение нечетных чисел меньше длины таблицы, но не равных нулю. В случае, когда размер таблицы равен степени двойки (а для нас всегда), это дает нам взаимопростые размер таблицы и результат второй хеш-функции.

Применение комбинации хеш-функций с динамическим параметрами и политики разрешения коллизий с помощью двойной хеш-функции снижает число коллизий по сравнению с применением одной хеш-функции, но увеличивает реальную сложность вычисления хеш-функции, т.к. вместо вычисления одной хеш функции вычисляется три.

Расчёт сложности данных алгоритмов.


Вычисление хеш-функции происходит с обходом каждого символа входной строки длинны L, что даёт нам общую сложность вычисления хеш-функции O(L). 

При операциях поиска или вставки в таблицу в худшем случае (без расширения таблицы) происходит расчёт первой хеш-функции с последующем исследованием всей таблицы (размера N) с перебором в шаг результата второй хеш-функции. Вычисление первой и второй хеш-функции происходят один раз. Следовательно сложность будет составлять O(L^^N). Но мы понимаем, что по факту N будет зависеть от числа коллизий в нашей таблице. При данных реализованных хеш-алгоритмах и политике разрешения коллизий через двойное хеширование число коллизий будет стремиться к 0 и соответственно средняя сложность будет стремиться к o(L).

В случае вставки в таблицу с расширением таблицы помимо вышеперечисленных операций происходит также создание новой таблицы и перенос элементов текущей в неё. Для этого происходит перерасчёт позиции элементов для каждого элемента исходной таблицы размера N. Перерасчёт позиции происходит с проходом по новой таблице размера M в поисках сводного слота. В худшем случае сложность перерасчёта позиции для одного элемента составляет O(L^^M). В таком случае общая верхняя сложность вставки в таблицу с расширением O (L^^(M*N)). Но мы понимаем, что число коллизий в новой расширенной таблице при новых параметрах хеш-функции будет стремиться к 0, что позволяет заменить O (L^(M*N)) на O(L^N).